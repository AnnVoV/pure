<template>
	{#if isValidTarget}
		<div ref="v" style="display: inline-block;">
			{#inc this.$body}
		</div>
	{#else}
		{#inc this.$body}
	{/if}
</template>

<script>
	import domAlign from 'dom-align';

	export default {
		name: 'Track',
		computed: {
			isValidTarget() {
				const isValid = this.data.target instanceof HTMLElement;
				return isValid;
			}
		},
		init() {
			if( this.$get( 'isValidTarget' ) && this.$refs.v ) {
				domAlign(
					this.$refs.v,
					this.data.target,
					{
						points: ['tl', 'tr'],
						offset: [10, 20],
						targetOffset: ['1%','1%']
					}
				)
			}
		}
	};
</script>

<style lang="less" scoped>

</style>

<Track target="" by="right bottom" offset="0 10px">

</Track>
